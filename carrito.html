<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Carrito de Compras</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .producto { border-bottom: 1px solid #ddd; padding: 10px; display: flex; justify-content: space-between; }
        .acciones button { background-color: red; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; }
        .acciones button:hover { background-color: darkred; }
        .total { font-weight: bold; font-size: 18px; margin-top: 10px; }
        .botones { margin-top: 20px; }
        .botones button { padding: 10px 15px; margin-right: 10px; border: none; border-radius: 5px; cursor: pointer; }
        .vaciar { background-color: gray; color: white; }
        .pagar { background-color: #28a745; color: white; }
        .vaciar:hover { background-color: darkgray; }
        .pagar:hover { background-color: #218838; }
    </style>
</head>
<body>
    <h1>ðŸ›’ Carrito de Compras</h1>
    <div id="lista-carrito"></div>
    <p class="total" id="total"></p>

    <div class="botones">
        <button class="vaciar" onclick="vaciarCarrito()">Vaciar carrito</button>
        <button class="pagar" onclick="pagar()">Pagar ahora</button>
        <a href="index.html">â¬… Seguir comprando</a>
    </div>

    <script>
        let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
        let lista = document.getElementById("lista-carrito");
        let totalElemento = document.getElementById("total");
        let total = 0;

        function mostrarCarrito() {
            lista.innerHTML = "";
            total = 0;
            if (carrito.length === 0) {
                lista.innerHTML = "<p>El carrito estÃ¡ vacÃ­o.</p>";
                totalElemento.innerText = "";
                return;
            }
            carrito.forEach((producto, index) => {
                lista.innerHTML += `
                    <div class="producto">
                        <span>${producto.nombre} - $${producto.precio}</span>
                        <div class="acciones">
                            <button onclick="eliminarProducto(${index})">Eliminar</button>
                        </div>
                    </div>
                `;
                total += producto.precio;
            });
            totalElemento.innerText = "Total: $" + total;
        }

        function eliminarProducto(indice) {
            carrito.splice(indice, 1);
            localStorage.setItem("carrito", JSON.stringify(carrito));
            mostrarCarrito();
        }

        function vaciarCarrito() {
            localStorage.removeItem("carrito");
            carrito = [];
            mostrarCarrito();
        }

        function pagar() {
            if (carrito.length === 0) {
                alert("Tu carrito estÃ¡ vacÃ­o.");
                return;
            }
            alert("âœ… Pago procesado con Ã©xito. Â¡Gracias por tu compra!");
            vaciarCarrito();
        }

        mostrarCarrito();
    </script>
</body>
</html>